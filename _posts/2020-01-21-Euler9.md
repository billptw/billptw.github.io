---
title: Euler#9 Special Pythagorean triplet
layout: posts
tags: euler
---

High level idea: Find the greatest product of Pythagorean triples $$a,b,c$$ that satisfies $$a + b + c = N$$ for input integer $$N$$.

Input: $$T+1$$ lines of integers. The input contains $$T$$ in the first line that denotes the number of test cases, followed by $$T$$ lines of integer $$N$$.

Constraints:

$$1 \leq T \leq 3000$$

$$1 \leq N \leq 3000$$


## Solution
A [Pythagorean triplet](https://en.wikipedia.org/wiki/Pythagorean_triple) comprises integers $$a,b,c$$ that forms a Pythagorus triangle by satisfying the equation $$a^2 + b^2 = c^2$$. In this problem, we need to find the triplet that sums to $$N$$ and produces the largest value when multiplied together, returning $$-1$$ if a tripled does not exist.

First, we state all the equations given to us:

$$a + b + c = N$$ 

$$a^2 + b^2 = c^2$$

$$a < b < c$$

To programmatically find the values $$a, b, c$$, we need to somehow use these equations to reduce the search space. In this case, our goal is to iterate over values of $$a$$ and use the equations above to calculate $$b$$ and $$c$$ given the value of $$N$$ (which is a constant for a given problem).

Note that we can convert the first equation into $$c = N - b - a$$ and substitute it into the second equation, which gives us the following:

$$b = \frac{(N-a)^2 - a^2}{2(N-a)}$$

$$c = N - b - a$$

With the above two equations, we can easily iterate values $$a$$ to check if the values form a Pythagorus triangle (i.e. satisfies $$a^2 + b^2 = c^2$$).

Finally, one last optimization trick is to use the fact that $$a<b<c$$ to search for values of $$a$$ satisfying $$a<n/3$$. Code implementation below:

```python
def main(n):
    ans = -1
    for a in range(3, int(n/3)):
        b = int((n**2 - 2*a*n)/(2*(n-a)))
        c = n - b - a
        if a**2 + b**2 == c**2:
            val = a*b*c
            if val > ans:
                ans = val
    return ans
```

This solution requires one to understand the problem and mathematically simplify the search space. A naive implementation requiring three loops would be too slow $$\mathcal{O}(n^3)$$, whereas deriving formulae for $$b$$ and $$c$$ requires only one loop and reduces the time complexity to $$\mathcal{O}(n)$$.
